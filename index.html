<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Duolingo-style â€“ with Check & feedback</title>
  <style>
    body {
      font-family: system-ui, sans-serif;
      background: #f5f7fa;
      margin: 0;
      min-height: 100vh;
      display: grid;
      place-items: center;
      padding: 20px;
    }

    .container {
      background: white;
      border-radius: 16px;
      padding: 32px 28px;
      max-width: 620px;
      width: 100%;
      box-shadow: 0 8px 32px rgba(0,0,0,0.1);
    }

    .sentence {
      font-size: 27px;
      line-height: 1.5;
      text-align: center;
      margin-bottom: 48px;
    }

    .blank {
      display: inline-block;
      min-width: 110px;
      height: 52px;
      margin: 0 8px;
      vertical-align: middle;
      border: 3px dashed #b3d4fc;
      border-radius: 12px;
      background: #f8fbff;
      transition: all 0.3s ease;
      position: relative;
    }

    .blank.filled   { border-style: solid; border-color: #60a5fa; background: white; }
    .blank.correct  { border-color: #22c55e; box-shadow: 0 0 0 4px #dcfce7; }
    .blank.incorrect{ border-color: #ef4444; box-shadow: 0 0 0 4px #fee2e2; }

    .options {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      justify-content: center;
      margin: 40px 0 30px;
    }

    .word {
      font-size: 19px;
      padding: 14px 26px;
      border-radius: 999px;
      background: #e5e7eb;
      border: 2px solid #d1d5db;
      cursor: grab;
      user-select: none;
      transition: all 0.2s;
    }

    .word:hover     { background: #d1d5db; transform: translateY(-2px); }
    .word.dragging  { opacity: 0.75; transform: scale(1.06); cursor: grabbing; }
    .word.used      { opacity: 0.45; pointer-events: none; }

    .word.correct   { background: #bbf7d0; border-color: #22c55e; color: #166534; }
    .word.incorrect { background: #fecaca; border-color: #ef4444; color: #991b1b; }

    .controls {
      text-align: center;
      margin-top: 20px;
    }

    button {
      font-size: 20px;
      padding: 14px 48px;
      border: none;
      border-radius: 12px;
      background: #3b82f6;
      color: white;
      cursor: pointer;
      transition: background 0.2s;
    }

    button:hover { background: #2563eb; }
    button:disabled { background: #9ca3af; cursor: not-allowed; }

    .feedback {
      font-size: 24px;
      font-weight: 600;
      margin: 24px 0;
      text-align: center;
      min-height: 34px;
    }

    .success { color: #15803d; }
    .error   { color: #b91c1c; }
  </style>
</head>
<body>

<div class="container">
  <div class="sentence">
    She usually 
    <span class="blank" data-correct="goes"></span> 
    to the gym on 
    <span class="blank" data-correct="weekdays"></span>.
  </div>

  <div class="options">
    <div class="word" draggable="true">goes</div>
    <div class="word" draggable="true">stays</div>
    <div class="word" draggable="true">weekdays</div>
    <div class="word" draggable="true">weekends</div>
  </div>

  <div class="feedback"></div>

  <div class="controls">
    <button id="checkBtn">Check</button>
  </div>
</div>

<script>
const blanks = document.querySelectorAll('.blank');
const words = document.querySelectorAll('.word');
const checkBtn = document.getElementById('checkBtn');
const feedback = document.querySelector('.feedback');

let dragged = null;

// â”€â”€â”€ Drag & Drop logic â”€â”€â”€
words.forEach(w => {
  w.addEventListener('dragstart', e => {
    dragged = w;
    w.classList.add('dragging');
  });
  w.addEventListener('dragend', () => {
    w.classList.remove('dragging');
    dragged = null;
  });
});

blanks.forEach(b => {
  b.addEventListener('dragover',  e => e.preventDefault());
  b.addEventListener('dragenter', e => { e.preventDefault(); b.style.background = '#eff6ff'; });
  b.addEventListener('dragleave', () => b.style.background = '');
  b.addEventListener('drop', e => {
    e.preventDefault();
    if (!dragged) return;

    // Clear previous content
    b.innerHTML = '';
    const clone = dragged.cloneNode(true);
    clone.draggable = false;
    clone.className = 'word';
    b.appendChild(clone);
    b.classList.add('filled');
    b.style.background = '';

    dragged.classList.add('used');
  });
});

// â”€â”€â”€ Check answers â”€â”€â”€
checkBtn.addEventListener('click', () => {
  let allFilled = true;
  let correctCount = 0;

  blanks.forEach(blank => {
    if (!blank.classList.contains('filled')) {
      allFilled = false;
      return;
    }

    const droppedWord = blank.querySelector('.word')?.textContent.trim().toLowerCase();
    const correct = blank.dataset.correct.toLowerCase();

    if (droppedWord === correct) {
      blank.classList.add('correct');
      correctCount++;
      // Highlight the original word too
      const original = [...words].find(w => w.textContent.trim().toLowerCase() === correct);
      if (original) original.classList.add('correct');
    } else {
      blank.classList.add('incorrect');
      const original = [...words].find(w => w.textContent.trim().toLowerCase() === droppedWord);
      if (original) original.classList.add('incorrect');
    }
  });

  checkBtn.disabled = true;

  if (!allFilled) {
    feedback.textContent = "Please fill all blanks first!";
    feedback.className = 'feedback error';
  } else if (correctCount === blanks.length) {
    feedback.textContent = "Excellent! ðŸŽ‰";
    feedback.className = 'feedback success';
  } else {
    feedback.innerHTML = `You got ${correctCount} out of ${blanks.length} correct.`;
    feedback.className = 'feedback error';
  }

  // Optional: disable dragging after check
  words.forEach(w => w.draggable = false);
});
</script>
</body>
</html>
